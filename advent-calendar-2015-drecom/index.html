<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<meta charset="utf-8">

<title>ChatWork をちょっと便利にするブックマークレット | ikkou.jp</title>
<meta name="viewport" content="width=device-width">
<meta name="description" content="これは【その1】ドリコム Advent Calendar 2015 の 17日目の記事です。ChatWorkをちょっと便利にするブックマークレットを紹介します。">
<meta name="keywords" content="AdventCalendar,Drecom,Bookmarklet">
<meta property="og:type" content="article">
<meta property="og:title" content="ChatWork をちょっと便利にするブックマークレット">
<meta property="og:url" content="https://ikkou.jp/advent-calendar-2015-drecom/index.html">
<meta property="og:site_name" content="ikkou.jp">
<meta property="og:description" content="これは【その1】ドリコム Advent Calendar 2015 の 17日目の記事です。ChatWorkをちょっと便利にするブックマークレットを紹介します。">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://i.gyazo.com/1136c6c499bbaee61f57c4424aec830a.gif">
<meta property="og:image" content="https://gyazo.com/da927cc8ef1d42d0e9b0387a30d4678a.gif">
<meta property="og:image" content="https://i.gyazo.com/50ce67b260a500769b9bf203f19a986e.png">
<meta property="og:image" content="https://i.gyazo.com/7c3011964b3a0a22340995d25e029214.png">
<meta property="og:image" content="https://i.gyazo.com/19ce7d3aec72894d2c6444961a3ee8e6.png">
<meta property="og:image" content="https://i.gyazo.com/f91aff1db7d8010a3fae836b97d7706e.png">
<meta property="og:image" content="https://i.gyazo.com/1fd14807ac2fa52b28f44fba799de142.png">
<meta property="og:updated_time" content="2017-12-01T09:42:04.895Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ChatWork をちょっと便利にするブックマークレット">
<meta name="twitter:description" content="これは【その1】ドリコム Advent Calendar 2015 の 17日目の記事です。ChatWorkをちょっと便利にするブックマークレットを紹介します。">
<meta name="twitter:image" content="https://i.gyazo.com/1136c6c499bbaee61f57c4424aec830a.gif">
<meta name="twitter:creator" content="@ikkou">
<meta property="fb:app_id" content="1513249022302711">

<link rel="alternative" href="/atom.xml" title="ikkou.jp" type="application/atom+xml">


<link rel="shortcut icon" href="/favicon.ico">

<link rel="stylesheet" href="/css/style.css">
<script src="/js/bpush_loader.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-70909383-1', 'auto');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');

</script>


</head>

<body>
<div id="container">
  <div class="mobile-nav-panel">
	<i class="icon-reorder icon-large"></i>
</div>
<header id="header">
	<h1 class="blog-title">
		<a href="/">ikkou.jp</a>
	</h1>
	<nav class="nav">
		<ul>
			<li><a href="/">Home</a></li><li><a href="/archives">Archives</a></li><li><a href="/about">About</a></li>
			<li><a id="nav-search-btn" class="nav-icon" title="Search"></a></li>
			<li><a href="/atom.xml" id="nav-rss-link" class="nav-icon" title="RSS Feed"></a></li>
		</ul>
	</nav>
	<div id="search-form-wrap">
		<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://ikkou.jp"></form>
	</div>
</header>
  <div id="main">
    <article id="post-advent-calendar-2015-drecom" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/advent-calendar-2015-drecom/" class="article-date">
  <time datetime="2015-12-16T15:00:00.000Z" itemprop="datePublished">2015/12/17</time>
</a>
		</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 class="article-title entry-title" itemprop="name">
      ChatWork をちょっと便利にするブックマークレット
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<h2><span id="intro">intro</span></h2><p>これは <a href="http://www.adventar.org/calendars/1043" target="_blank" rel="noopener">【その1】ドリコム Advent Calendar 2015</a> の 17 日目の記事です。<br>16 日目は ozabi さんの <a href="https://ozabeastrong.amebaownd.com/posts/374733" target="_blank" rel="noopener">イラストメイキング</a> でした。<br>上手なイラストを書ける人が羨ましい……。</p>
<p><a href="http://www.adventar.org/calendars/1044" target="_blank" rel="noopener">【その2】ドリコム Advent Calendar 2015</a> もあります。</p>
<p>去年、2014年は <a href="http://qiita.com/ikkou/items/46bb4ddf637742bfcd70" target="_blank" rel="noopener">アドベントカレンダーでニコニコカレンダーの話を書きたかった</a> という記事を書いていました。<br>ちなみにニコカレの取り組みは今ひとつ定着しなかった感があります。</p>
<p>今年、2015 年は、自分の観測範囲の中でも特に動きの激しかった JavaScript 界隈を振り返ろうかなーと思いましたが、<del>素振りすら追いつけていない程度に疲弊しているので</del> 同じ JavaScript という括りでも、全く疲弊することのない、ブックマークレットのことを書きます。</p>
<a id="more"></a>
<h2><span id="whoami">whoami</span></h2><ul>
<li><a href="https://twitter.com/ikkou" target="_blank" rel="noopener">@ikkou</a> - <a href="/about/">About</a></li>
<li>g1983ers</li>
<li>Rails の Sprockets を捨てたいフロントエンド勢<ul>
<li>出来れば <code>browserify-rails</code> を始めとする <code>xxx-rails</code> 系すら避けたい</li>
<li>最近だと f 社のフロントエンド革命論が好き</li>
</ul>
</li>
<li>ドリコムには 2014/09/01 に中途入社<ul>
<li><del>入社して最初に携わった漫画アプリは数ヶ月でクローズ判断(´・ω・｀)</del></li>
<li>Web フロントエンドを頑張るグループ所属</li>
<li>MacBook Pro にステッカーをたくさん貼る勢</li>
</ul>
</li>
<li>普段何をしているの?<ul>
<li>いわゆる管理職的な何か</li>
<li>フロントエンドエンジニア的な何か<ul>
<li>ドリコムのフロントエンドスタンダードを考えています</li>
</ul>
</li>
<li>カメラマン的な何か</li>
</ul>
</li>
</ul>
<h2><span id="toc">toc</span></h2><!-- toc -->
<ul>
<li><a href="#ドリコムは-chatwork-を使用しています">ドリコムは ChatWork を使用しています</a></li>
<li><a href="#ブックマークレットとは何か">ブックマークレットとは何か</a></li>
<li><a href="#ブックマークレットの使いかた">ブックマークレットの使いかた</a><ul>
<li><a href="#chrome-のコンソールでブックマークレットを試す">Chrome のコンソールでブックマークレットを試す</a></li>
<li><a href="#ブックマークバーに登録する">ブックマークバーに登録する</a></li>
</ul>
</li>
<li><a href="#chatwork-をちょっと便利にするブックマークレット">ChatWork をちょっと便利にするブックマークレット</a><ul>
<li><a href="#1囲み枠タグ見出しありをちょっと便利にする">①「囲み枠タグ（見出しあり）」をちょっと便利にする</a><ul>
<li><a href="#ブックマークレット">ブックマークレット</a></li>
<li><a href="#before">before</a></li>
<li><a href="#after">after</a></li>
</ul>
</li>
<li><a href="#2見ているページのタイトルと-url-の共有をちょっと便利にする">②見ているページのタイトルと URL の共有をちょっと便利にする</a><ul>
<li><a href="#ブックマークレット-1">ブックマークレット</a></li>
</ul>
</li>
<li><a href="#3すべて選択をちょっと便利にする">③「すべて選択」をちょっと便利にする</a><ul>
<li><a href="#改行なしアイコンのみにするブックマークレット">改行なし・アイコンのみにするブックマークレット</a></li>
<li><a href="#before-1">before</a></li>
<li><a href="#after-1">after</a></li>
<li><a href="#改行なしアイコン-名前にするブックマークレット">改行なし・アイコン + 名前にするブックマークレット</a></li>
<li><a href="#before-2">before</a></li>
<li><a href="#after-2">after</a></li>
</ul>
</li>
<li><a href="#4-テキストエリアに入力した-dropbox-の共有リンクをブラウザで直接表示出来る-url-に変換するブックマークレット">④ テキストエリアに入力した Dropbox の「共有リンク」をブラウザで直接表示出来る URL に変換するブックマークレット</a><ul>
<li><a href="#ブックマークレット-2">ブックマークレット</a></li>
<li><a href="#before-3">before</a></li>
<li><a href="#after-3">after</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#まとめ">まとめ</a></li>
</ul>
<!-- tocstop -->
<h2><span id="ドリコムは-chatwork-を使用しています">ドリコムは ChatWork を使用しています</span></h2><p>去年のアドベントカレンダーにも書きましたが、弊社の標準コミュニケーションツールは ChatWork です。<br>通常の ChatWork ではなく、管理機能が強化されている <a href="http://www.chatwork.com/kddi/" target="_blank" rel="noopener">KDDI ChatWork</a> です。</p>
<p>ちょっと貧弱な検索機能に辟易しつつ、たまにやってくるサーバダウンにも負けず、だからといって流行りの Slack に流れることもなく使い続けているので、そろそろ「<a href="http://www.chatwork.com/ja/case/" target="_blank" rel="noopener">導入事例</a>」ページに掲載されても良いと思うのですが、いかがでしょうか？←</p>
<p>そして ChatWork はもう少し API が解放されると良いのになーと日々願っています。</p>
<h2><span id="ブックマークレットとは何か">ブックマークレットとは何か</span></h2><p><em>ブックマークレット自体の説明が不要な方は、<a href="#chatwork-をちょっと便利にするブックマークレット">ブックマークレットの紹介</a>まで飛ばしてください。</em></p>
<p>ブックマークレット、あるいは Bookmarklet は、ブラウザ上で動作する小さなプログラムで、<code>JavaScript</code> で記述します。</p>
<blockquote><p>ブックマークレット (Bookmarklet) とは、ユーザーがウェブブラウザのブックマークなどから起動し、ウェブブラウザで簡単な処理を行う簡易的なプログラムのことである。携帯電話のウェブブラウザで足りない機能を補ったり、ウェブアプリケーションの処理を起動する為に使われることが多い。</p>
<footer><strong>ウィキペディア</strong><cite><a href="https://ja.wikipedia.org/wiki/ブックマークレット" target="_blank" rel="noopener">ja.wikipedia.org/wiki/ブックマークレット</a></cite></footer></blockquote>
<p>お気に入り・ブックマークは、「登録したページを開く」だけですが、ブックマークレットは、「開く」だけではなく、これから例を挙げるように見ているページを対象にして、ちょっと便利なことが出来ます。</p>
<h2><span id="ブックマークレットの使いかた">ブックマークレットの使いかた</span></h2><p>サンプルとして、シンプル、だけどちょっと意地悪なブックマークレットを用意しました。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">document</span>.body.innerHTML = <span class="string">""</span>;&#125;())</span><br></pre></td></tr></table></figure>
<p>ブックマークレットは、ブラウザのアドレスバーに入れて使うものではありません。<br>ブラウザのアドレスバーに入れると、それをキーワードとして検索されるだけです。</p>
<p>ブックマークレットを簡単に試したい場合、Chrome のコンソールが便利です。</p>
<h3><span id="chrome-のコンソールでブックマークレットを試す">Chrome のコンソールでブックマークレットを試す</span></h3><p>ブックマークレットを試したいページで、コンソールを開きます。</p>
<ul>
<li>右クリック→検証をクリック</li>
<li>ブラウザのメニューにある表示→開発/管理→JavaScript コンソールを辿る</li>
<li>ショートカットは Windows なら <code>Ctrl+Shift+J</code>、Mac なら <code>Opt+Cmd+J</code></li>
</ul>
<p>コンソールに <code>javascript:(function(){document.body.innerHTML = &quot;&quot;;}())</code> という文字列をコピペします。</p>
<p><img src="https://i.gyazo.com/1136c6c499bbaee61f57c4424aec830a.gif" alt=""></p>
<p>Enter を押すと画面が xxx になるので、ブラウザの更新ボタンを押して、続きを読んでください。<del>あくまでジョークです。</del></p>
<h3><span id="ブックマークバーに登録する">ブックマークバーに登録する</span></h3><p>毎回コンソール画面を開くのも手間なので、恒常的に使うブックマークレットは、ブックマークバーに登録するのが一般的です。</p>
<p>まず、ブックマークバーを表示していない場合は、ブックマークバーを表示させます。</p>
<p><img src="https://gyazo.com/da927cc8ef1d42d0e9b0387a30d4678a.gif" alt=""></p>
<p>その後、ブックマークバー上で、右クリック→ページを追加…と進みます。</p>
<p>表示された入力欄の「名前」にわかりやすい名前を、「URL」にブックマークレットを入力して「保存」をクリックします。</p>
<p><img src="https://i.gyazo.com/50ce67b260a500769b9bf203f19a986e.png" alt=""></p>
<p>これでブックマークバーにブックマークレットが登録されます。</p>
<p><img src="https://i.gyazo.com/7c3011964b3a0a22340995d25e029214.png" alt=""></p>
<p>あとはこのブックマークレットをクリックするだけで、このブックマークレットで言えば画面が真っ白になります。</p>
<hr>
<h2><span id="chatwork-をちょっと便利にするブックマークレット">ChatWork をちょっと便利にするブックマークレット</span></h2><p>ここから本題です。</p>
<p>これから挙げるブックマークレットは、Chrome で動作を確認しています。</p>
<p>また、2015 年 12 月現在の ChatWork に対応していますが、ChatWork の DOM 構造が変わった場合には、使えなくなる可能性があります。<br>その場合は <code>textarea</code> の <code>#_chatText</code> を適切なものに変更すれば動きます。多分。</p>
<hr>
<h3><span id="1囲み枠タグ見出しありをちょっと便利にする">①「囲み枠タグ（見出しあり）」をちょっと便利にする</span></h3><p>ChatWork にはいくつか独自のタグがあり、中でも「囲み枠タグ（見出しあり）」は、よく使います。<br>わざわざ自分で <code>[info][title]</code> …と打つのは少し面倒ですが、ブックマークレットを使えば簡単です。</p>
<h4><span id="ブックマークレット">ブックマークレット</span></h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:(<span class="function"><span class="keyword">function</span><span class="params">()</span>&#123;<span class="title">c</span>=$<span class="params">('#_chatText')</span>;<span class="title">f</span>=<span class="title">c</span>.<span class="title">val</span><span class="params">()</span>;<span class="title">r</span>=<span class="title">new</span> <span class="title">Array</span><span class="params">()</span>;<span class="title">r</span>=<span class="title">f</span>.<span class="title">split</span><span class="params">('\n')</span>;<span class="title">f</span>='<span class="params">[info]</span><span class="params">[title]</span>'+<span class="title">r</span><span class="params">[0]</span>+'<span class="params">[/title]</span>';<span class="title">for</span><span class="params">(var i=1,n=r.length;i&lt;n;i++)</span>&#123;<span class="title">f</span>=<span class="title">f</span>+<span class="title">r</span><span class="params">[i]</span>+'\<span class="title">n</span>' ;&#125;<span class="title">f</span>=<span class="title">f</span>+'<span class="params">[/info]</span>';<span class="title">c</span>.<span class="title">val</span><span class="params">(f)</span>;&#125;<span class="params">()</span>)</span></span><br></pre></td></tr></table></figure>
<h4><span id="before">before</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">タイトル</span><br><span class="line">本文</span><br><span class="line">本文</span><br><span class="line">本文</span><br></pre></td></tr></table></figure>
<h4><span id="after">after</span></h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">info</span>][<span class="symbol">title</span>]タイトル[/title]本文</span><br><span class="line">本文</span><br><span class="line">本文</span><br><span class="line">[/info]</span><br></pre></td></tr></table></figure>
<p>たまに、最後の <code>[/info]</code> が <code>[info]</code> になっていて、意図しない表示になっているケースが見受けられるので、そういう人こそこのブックマークレットを使うと捗ると思います。</p>
<hr>
<h3><span id="2見ているページのタイトルと-url-の共有をちょっと便利にする">②見ているページのタイトルと URL の共有をちょっと便利にする</span></h3><p>これは①の転用例です。</p>
<p>みんなに共有したいな！というページを見つけた時、どうしていますか？</p>
<p>ただ URL を貼り付けるだけだと味気が無いですし、何よりそれが何のページか分かりません。</p>
<p>そうするとページのタイトルも一緒に共有したくなりますが、その場合はアドレスバーの URL をコピーして ChatWork のテキストエリアに貼り付け、次にページのタイトルをコピーしてまた貼り付け、と少々面倒になります。</p>
<p>このブックマークレットは、見ているページのページタイトルと URL を、「囲み枠タグ（見出しあり）」を適用した状態にします。</p>
<h4><span id="ブックマークレット">ブックマークレット</span></h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript: (function()&#123;prompt('Press Ctrl+C, then press Enter Key','[<span class="string">info</span>][<span class="symbol">title</span>]'+document.title+'[/title]'+location.href+'[/info]')&#125;)();</span><br></pre></td></tr></table></figure>
<p>例えば、 <a href="http://www.adventar.org/calendars/1043" target="_blank" rel="noopener">【その1】ドリコム Advent Calendar 2015</a> のページでこのブックマークレットを使うと、このように「囲み枠タグ（見出しあり）」が適用されたテキストが選択された状態になります。</p>
<p><img src="https://i.gyazo.com/19ce7d3aec72894d2c6444961a3ee8e6.png" alt=""></p>
<p>あとはこのテキストをおもむろにコピーして、ChatWork のテキストエリアに貼り付けるだけです。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">info</span>][<span class="symbol">title</span>]【その1】ドリコム Advent Calendar 2015 - Adventar[/title]http://www.adventar.org/calendars/1043[/info]</span><br></pre></td></tr></table></figure>
<p>実際に投稿すると、「囲み枠タグ（見出しあり）」が適用されています。</p>
<p><img src="https://i.gyazo.com/f91aff1db7d8010a3fae836b97d7706e.png" alt=""></p>
<p><code>[/info]</code> の後に、私感なりを加えて投稿すると捗るのではないでしょうか。</p>
<hr>
<h3><span id="3すべて選択をちょっと便利にする">③「すべて選択」をちょっと便利にする</span></h3><p>数人程度であれば問題ないですが、参加している人数が多いグループチャットで「すべて選択」を使うと、それだけで画面を埋め尽くしてしまいます。</p>
<p>このブックマークレットを使うと、アイコンが横に並ぶだけにする、あるいは名前の後ろに存在している改行を消すことが出来ます。</p>
<p>グループチャット内のメンバー全員に <code>TO</code> 付きのメッセージを送りたい時、例えばグループチャット内で打ち上げ等のスケジュール調整を行なう時などが当てはまります。</p>
<h4><span id="改行なしアイコンのみにするブックマークレット">改行なし・アイコンのみにするブックマークレット</span></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> f=$(<span class="string">'#_chatText'</span>);f.val(f.val().replace(<span class="regexp">/].+\n/g</span>,<span class="string">']'</span>));&#125;())</span><br></pre></td></tr></table></figure>
<h4><span id="before">before</span></h4><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[To:000001]</span> 佐藤さん</span><br><span class="line"><span class="string">[To:000002]</span> 山田さん</span><br><span class="line"><span class="string">[To:000003]</span> 田中さん</span><br><span class="line"><span class="string">[To:000004]</span> 鈴木さん</span><br></pre></td></tr></table></figure>
<h4><span id="after">after</span></h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">To:000001</span>][<span class="symbol">To:000002</span>][<span class="string">To:000003</span>][<span class="symbol">To:000004</span>]</span><br></pre></td></tr></table></figure>
<h4><span id="改行なしアイコン-名前にするブックマークレット">改行なし・アイコン + 名前にするブックマークレット</span></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> f=$(<span class="string">'#_chatText'</span>);f.val(f.val().replace(<span class="regexp">/[\n\r]/g</span>,<span class="string">" "</span>));&#125;())</span><br></pre></td></tr></table></figure>
<h4><span id="before">before</span></h4><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[To:000001]</span> 佐藤さん</span><br><span class="line"><span class="string">[To:000002]</span> 山田さん</span><br><span class="line"><span class="string">[To:000003]</span> 田中さん</span><br><span class="line"><span class="string">[To:000004]</span> 鈴木さん</span><br></pre></td></tr></table></figure>
<h4><span id="after">after</span></h4><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[To:000001]</span> 佐藤さん <span class="string">[To:000002]</span> 山田さん <span class="string">[To:000003]</span> 田中さん <span class="string">[To:000004]</span> 鈴木さん</span><br></pre></td></tr></table></figure>
<p>ちなみにこれは、「ChatWork ご意見・ご要望フォーラム」に挙がっている「<a href="http://feedback-ja.chatwork.com/forums/269086-chatwork-%E3%81%94%E6%84%8F%E8%A6%8B-%E3%81%94%E8%A6%81%E6%9C%9B%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A9%E3%83%A0/suggestions/7010277-to%E4%BB%98-%E3%81%99%E3%81%B9%E3%81%A6%E9%81%B8%E6%8A%9E%E3%81%A7-%E6%94%B9%E8%A1%8C%E3%81%AA%E3%81%97-%E3%82%84-%E6%94%B9%E8%A1%8C-%E5%90%8D%E5%89%8D%E3%81%AA%E3%81%97-%E3%82%92%E9%81%B8%E6%8A%9E%E3%81%97%E3%81%9F%E3%81%84" target="_blank" rel="noopener">TO付→すべて選択で「改行なし」や「改行・名前なし」を選択したい</a>」を解決出来るブックマークレットです。<br>他のブックマークレットに比べ、これはちょっとどころか結構便利にするのでは？と勝手に思っています。</p>
<h3><span id="4-テキストエリアに入力した-dropbox-の共有リンクをブラウザで直接表示出来る-url-に変換するブックマークレット">④ テキストエリアに入力した Dropbox の「共有リンク」をブラウザで直接表示出来る URL に変換するブックマークレット</span></h3><p>ChatWork のテキストエリアに入力されている文字列を書き換える、という意味でしか ChatWork は関係ない上、使い道がかなり限定的なので、あくまでおまけ的なブックマークレットです。</p>
<p>静的なファイル、例えば HTML, CSS, JavaScript の表示、動作をサクッと確認する方法として、Dropbox を使う手があります。</p>
<p>ブラウザあるいはクライアントアプリで、対象ファイルの「リンクを共有」をクリックすると <code>https://www.dropbox.com</code> で始まる URL がクリップボードにコピーされます。</p>
<p>この URL にアクセスしても、そのファイルをブラウザで直接表示することは出来ず、ダウンロードか Dropbox への保存を促すページが表示されてしまいます。</p>
<p><img src="https://i.gyazo.com/1fd14807ac2fa52b28f44fba799de142.png" alt=""></p>
<p>そんな時は ChatWork のテキストエリアに URL を貼り付けた後、このブックマークレットを使えば、直接表示出来る URL に変換されます。<br>特にスマホ実機のブラウザで表示を確認したい、みたいな場合に捗ります。</p>
<h4><span id="ブックマークレット">ブックマークレット</span></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> f=$(<span class="string">'#_chatText'</span>);f.val(f.val().replace(<span class="regexp">/www.dropbox/g</span>,<span class="string">'dl.dropboxusercontent'</span>).replace(<span class="regexp">/\?dl=0/g</span>,<span class="string">''</span>));&#125;())</span><br></pre></td></tr></table></figure>
<h4><span id="before">before</span></h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http<span class="variable">s:</span>//www.dropbox.<span class="keyword">com</span>/s/imnclb4foreewwb/dropbox.html?<span class="keyword">dl</span>=<span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>この URL 形式では Dropbox の画面が表示されてしまい <code>sample.html</code> の実体を表示することは出来ません。</p>
<h4><span id="after">after</span></h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http<span class="variable">s:</span>//<span class="keyword">dl</span>.dropboxusercontent.<span class="keyword">com</span>/s/imnclb4foreewwb/dropbox.html</span><br></pre></td></tr></table></figure>
<p>この URL 形式であれば <code>sample.html</code> の実体を表示することが出来ます。</p>
<h2><span id="まとめ">まとめ</span></h2><p>ChatWork をちょっと便利にするブックマークレットを4つ紹介しました。</p>
<p>ChatWork をより便利にするには、ブックマークレットではなく拡張機能の方が適しているかもしれませんが、リロードすれば元に戻ってしまう、そんなブックマークレットの儚い感じが好きです。</p>
<p>現場からは以上です。</p>
<hr>
<p><a href="http://www.adventar.org/calendars/1043" target="_blank" rel="noopener">【その1】ドリコム Advent Calendar 2015</a> の 18 日目は Y さんです。<br><a href="http://www.adventar.org/calendars/1044" target="_blank" rel="noopener">【その2】ドリコム Advent Calendar 2015</a> の 18 日目は wasbi01 さんです。</p>


		<ul class="share-on">
			<li><a class="share-on-twitter" href="https://twitter.com/intent/tweet?text=ChatWork をちょっと便利にするブックマークレット&url=https://ikkou.jp/advent-calendar-2015-drecom/&via=ikkou" target="_blank">Twitter</a></li>
			<li><a class="share-on-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://ikkou.jp/advent-calendar-2015-drecom/" target="_blank">Facebook</a></li>
			<li><a class="share-on-hatena" href="http://b.hatena.ne.jp/entry/https://ikkou.jp/advent-calendar-2015-drecom/" target="_blank">はてブ</a></li>
		</ul>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AdventCalendar/">AdventCalendar</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Bookmarklet/">Bookmarklet</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Drecom/">Drecom</a></li></ul>

			</span>
		</div>
	</footer>
	
    
<nav id="article-nav">
  
    <a href="/advent-calendar-2015-xmas-card-design/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          なんとなくそれっぽいクリスマスカードを作る
        
      </div>
    </a>
  
  
    <a href="/display-inline-block-and-zoom-1/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">
        
          IE6 でも display: inline-block; を使いたかった僕たちは
        
      </div>
    </a>
  
</nav>

  
</article>






  </div>
  <div class="mb-search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:ikkou.jp">
  </form>
</div>
<footer id="footer">
	<h1 class="footer-blog-title">
		<a href="/">ikkou.jp</a>
	</h1>
	<span class="copyright">
		&copy; 2017 ikkou<br>
		Modify from <a href="http://sanographix.github.io/tumblr/apollo/" target="_blank">Apollo</a> theme, designed by <a href="http://www.sanographix.net/" target="_blank">SANOGRAPHIX.NET</a><br>
		Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
	</span>
</footer>
  

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
</div>
</body>
</html>
